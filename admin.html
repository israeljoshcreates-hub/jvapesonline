<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>J_VAPES Admin</title>
  <meta name="description" content="Admin panel to manage J_VAPES products">
  <link rel="icon" href="/jvapes/favicon.svg" type="image/svg+xml">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/style.css">
</head>
<body class="bg-gray-50 text-gray-900">
  <main class="max-w-4xl mx-auto p-4">
    <h1 class="text-2xl font-semibold mb-4">J_VAPES — Admin Panel</h1>

    <div id="pinEntry" class="bg-white p-4 rounded shadow-sm">
      <label for="pinInput" class="block text-sm text-gray-600">Enter Admin PIN</label>
      <div class="mt-2 flex items-center gap-2">
        <input id="pinInput" type="password" placeholder="PIN" aria-label="Admin PIN" class="border rounded px-2 py-2 w-48" />
        <button id="pinCancel" type="button" class="bg-gray-200 text-gray-800 px-3 py-2 rounded">Cancel</button>
        <button id="pinBtn" class="bg-gray-900 text-white px-3 py-2 rounded">Enter</button>
      </div>
    </div>

    <div id="adminArea" class="hidden mt-6">
      <section class="bg-white p-4 rounded shadow-sm mb-6">
        <h2 class="font-medium mb-3">Add Product</h2>
        <form id="productForm" class="grid grid-cols-1 sm:grid-cols-2 gap-3">
          <label class="sr-only" for="p_name">Product name</label>
          <input id="p_name" name="name" placeholder="Name" class="border rounded px-2 py-2" required />

          <label class="sr-only" for="p_brand">Brand</label>
          <input id="p_brand" name="brand" placeholder="Brand" class="border rounded px-2 py-2" required />

          <label class="sr-only" for="p_puffs">Puffs</label>
          <input id="p_puffs" name="puffs" placeholder="Puffs (e.g., 5000)" class="border rounded px-2 py-2" required />

          <label class="sr-only" for="p_price">Price</label>
          <input id="p_price" name="price" placeholder="Price (KES)" type="number" class="border rounded px-2 py-2" required />

          <label class="sr-only" for="p_discount">Discount percentage</label>
          <input id="p_discount" name="discount" placeholder="Discount %" type="number" class="border rounded px-2 py-2" value="0" />

          <label class="sr-only" for="p_img">Image URL</label>
          <input id="p_img" name="img" placeholder="Image URL" class="border rounded px-2 py-2" />
          <div class="sm:col-span-2">
            <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded">Add Product</button>
            <button id="downloadJSON" type="button" class="ml-2 bg-gray-100 px-3 py-2 rounded">Download products.json</button>
            <button id="downloadSitemap" type="button" class="ml-2 bg-gray-100 px-3 py-2 rounded">Download sitemap.xml</button>
          </div>
        </form>
      </section>

      <section class="bg-white p-4 rounded shadow-sm">
        <h2 class="font-medium mb-3">Products</h2>
        <div id="productsTableWrap" class="overflow-auto">
          <table id="productsTable" class="w-full text-sm table-auto">
            <thead>
              <tr class="text-left"><th>ID</th><th>Name</th><th>Brand</th><th>Puffs</th><th>Price</th><th>Discount</th><th>Actions</th></tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>
    </div>
  </main>

  <script src="js/admin.js"></script>
  
  <!-- Footer (admin) -->
  <footer class="bg-black text-white border-t mt-8">
    <div class="max-w-4xl mx-auto px-4 py-6 text-sm text-center">
      <div class="font-semibold">J_VAPES.KE</div>
      <div>Nairobi, Kenya</div>
      <div>Strictly 18+ Legal Age</div>
      <div>Delivery Available 24/7</div>
      <div class="flex items-center justify-center gap-4 mt-2 text-xs">
        <a href="terms.html" class="text-white hover:underline">Terms</a>
        <a href="privacy.html" class="text-white hover:underline">Privacy</a>
        <a href="returns.html" class="text-white hover:underline">Returns</a>
        <a href="contact.html" class="text-white hover:underline">Contact</a>
      </div>
      <div class="text-xs text-red-300 font-semibold mt-2">WARNING: These products contain nicotine. Nicotine is an addictive chemical. Not for use by minors, pregnant women, or non-smokers.</div>
      <div class="mt-3">© 2025 J_VAPES.KE</div>
    </div>
  </footer>
  <!-- Admin persistent warning banner -->
  <div id="warningBannerAdmin" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-white border rounded-md px-4 py-3 shadow-lg z-50 hidden max-w-2xl">
    <div class="flex items-start gap-4">
      <div class="flex-1 text-sm text-gray-700">WARNING: These products contain nicotine. Nicotine is an addictive chemical. Not for use by minors, pregnant women, or non-smokers.</div>
      <div class="flex items-center gap-2">
        <button id="dismissWarningAdmin" class="text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded">Dismiss</button>
      </div>
    </div>
  </div>
</body>
</html>